{"version":3,"file":"static/js/FullPizza.7acc4573.chunk.js","mappings":"0OASMA,EAAY,CAAC,uCAAU,4EA6I7B,UA3I4B,WAC1B,MAA2BC,EAAAA,WAA3B,eAAOC,EAAP,KAAcC,EAAd,KAWIC,GAAWC,EAAAA,EAAAA,MAEVC,GAAMC,EAAAA,EAAAA,MAAND,GACP,EAAoCL,EAAAA,SAAe,GAAnD,eAAOO,EAAP,KAAmBC,EAAnB,KACA,EAAoCR,EAAAA,SAAe,GAAnD,eAAOS,EAAP,KAAmBC,EAAnB,KAGMC,GAAaC,EAAAA,EAAAA,KAAY,qBAAEC,KAA0BC,MAAMC,MAAK,SAACC,GAAD,OAASA,EAAIX,KAAOA,CAApB,GAAvC,IAEvBY,EAAiBN,EAAaA,EAAWO,MAAQ,EAEjDC,GAAWC,EAAAA,EAAAA,MAGjBpB,EAAAA,WAAgB,WAAM,8CACpB,kHAE2BqB,IAAAA,IAAA,iEAAoEhB,IAF/F,OAEUiB,EAFV,OAGIpB,EAAUoB,EAASC,MAHvB,gDAMEC,MAAM,SACNC,QAAQC,IAAI,gBAAZ,MACAvB,EAAS,KARX,0DADoB,uBAAC,WAAD,wBAYpBwB,EACD,GAAE,IAmBH,OAAK1B,GAIC,4BACN,gBAAK2B,UAAU,sBAAf,UACE,iBAAKA,UAAU,cAAf,WACM,gBACEA,UAAU,qBACVC,IAAK5B,EAAM6B,SACXC,IAAI,WAEN,eAAIH,UAAU,qBAAd,SAAoC3B,EAAM+B,SAC1C,iBAAKJ,UAAU,wBAAf,WACE,wBAEI3B,EAAMgC,MAAMC,KAAI,SAACC,EAAQC,GAAT,OAAmB,gBACHR,UAAWrB,IAAe6B,EAAQ,SAAW,GAE7CC,QAAS,kBAAM7B,EAAc4B,EAApB,EAHN,cAGoCrC,EAAUqC,GAH9C,MAEED,EAFrB,OAMpB,wBAGIlC,EAAMqC,MAAMJ,KAAI,SAACK,EAAMH,GAAP,OAAiB,gBACDR,UAAWnB,IAAe2B,EAAQ,SAAW,GAC7CC,QAAS,kBAAM3B,EAAc0B,EAApB,EAFR,cAIEG,EAJF,mBAGIH,EAHrB,UAStB,iBAAKR,UAAU,sBAAf,WACE,iBAAKA,UAAU,qBAAf,0BAAwC3B,EAAMuC,MAA9C,cACA,oBAAQH,QArDC,WACjB,GAAIpC,EAAO,CACT,IAAMwC,EAAO,CACXpC,GAAIJ,EAAMI,GACV2B,MAAO/B,EAAM+B,MACbF,SAAU7B,EAAM6B,SAChBU,MAAOvC,EAAMuC,MACbF,MAAOrC,EAAMqC,MACbI,KAAMC,OAAO1C,EAAMgC,OACnBf,MAAOjB,EAAMiB,OAEfC,GAASyB,EAAAA,EAAAA,IAAQH,GAElB,CACF,EAuCsCb,UAAU,qCAAvC,WACE,gBACEiB,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BALR,UAOE,iBACEC,EAAE,2QACFF,KAAK,aAGT,+EAEErC,IAAc,uBAAIM,gBAMtB,gBAAKW,UAAU,iCAAf,UACI,UAAC,KAAD,CAAMuB,GAAG,IAAIvB,UAAU,iDAAvB,WACE,gBACEiB,MAAM,IACNC,OAAO,KACPC,QAAQ,WACRC,KAAK,OACLC,MAAM,6BALR,UAOE,iBACEC,EAAE,4BACFE,OAAO,UACPC,YAAY,MACZC,cAAc,QACdC,eAAe,aAEnB,6HAxEP,iDA6EV,C","sources":["components/pages/FullPizza.tsx"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItem } from '../..//redux/slices/cart/slice';\r\nimport { selectAddedCartCountById } from '../../redux/slices/cart/selectors';\r\nimport { RootState } from '../../redux/store';\r\n\r\n\r\nconst typeNames = ['тонкое', 'традиционное'];\r\n\r\nconst FullPizza: React.FC = () => {\r\n  const [pizza, setPizzas] = React.useState<{\r\n  id: string,\r\n  title: string,\r\n  imageUrl: string,\r\n  price: number,\r\n  types: string[],\r\n  sizes: number[],\r\n  count: number;\r\n}>()\r\n\r\n  \r\nconst navigate = useNavigate()\r\n\r\nconst {id} = useParams()\r\nconst [activeType, setActiveType] = React.useState(0);\r\nconst [activeSize, setActiveSize] = React.useState(0)\r\n\r\n// const addedCount = useSelector(selectAddedCartCountById(id));\r\nconst addedCount = useSelector(({cart}: RootState) => cart.items.find((obj) => obj.id === id));\r\n\r\n  const addedCartCount = addedCount ? addedCount.count : 0;\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n\r\n  React.useEffect(() => {\r\n    async function getPizzas() {\r\n        try {\r\n        const response = await axios.get(`https://631232c7f5cba498da8ea065.mockapi.io/pizzaItems/${id}` )\r\n        setPizzas(response.data)\r\n      }\r\n     catch(error) {\r\n      alert('Error');\r\n      console.log('Error occured', error);\r\n      navigate('/')\r\n    }\r\n  }\r\n    getPizzas()\r\n  }, [])  \r\n\r\n  const onClickAdd = () => {\r\n    if (pizza) {\r\n      const item = {\r\n        id: pizza.id,\r\n        title: pizza.title,\r\n        imageUrl: pizza.imageUrl,\r\n        price: pizza.price,\r\n        sizes: pizza.sizes,\r\n        type: String(pizza.types),\r\n        count: pizza.count,\r\n      }\r\n      dispatch(addItem(item) )\r\n\r\n    }\r\n  }\r\n\r\n\r\n  if (!pizza) {\r\n    return <>'Loading......'</>\r\n  }\r\n\r\nreturn (<div>\r\n  <div className='pizza-block-wrapper'>\r\n    <div className=\"pizza-block\">\r\n          <img\r\n            className=\"pizza-block__image\"\r\n            src={pizza.imageUrl}\r\n            alt=\"Pizza\"\r\n            />\r\n          <h4 className=\"pizza-block__title\">{pizza.title}</h4>\r\n          <div className=\"pizza-block__selector\">\r\n            <ul>\r\n              {\r\n                pizza.types.map((typeId, index) => <li\r\n                                                className={activeType === index ? 'active' : ''} \r\n                                                key={typeId}\r\n                                                onClick={() => setActiveType(index)}> {typeNames[index]} </li>)\r\n              }\r\n            </ul>\r\n            <ul>\r\n              \r\n              {\r\n                pizza.sizes.map((size, index) => <li \r\n                                                className={activeSize === index ? 'active' : ''}\r\n                                                onClick={() => setActiveSize(index)}\r\n                                                key={index}\r\n                                                > {size} см.</li>)\r\n              }\r\n\r\n            </ul>\r\n          </div>\r\n          <div className=\"pizza-block__bottom\">\r\n            <div className=\"pizza-block__price\">от {pizza.price} ₽</div>\r\n            <button onClick={onClickAdd} className=\"button button--outline button--add\">\r\n              <svg\r\n                width=\"12\"\r\n                height=\"12\"\r\n                viewBox=\"0 0 12 12\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                <path\r\n                  d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                  fill=\"white\"\r\n                  />\r\n              </svg>\r\n              <span>Добавить</span>\r\n              {\r\n                addedCount && <i>{addedCartCount}</i>\r\n              }\r\n            </button>\r\n          </div>\r\n        </div>\r\n  </div>\r\n            <div className=\"container cart__bottom-buttons\">\r\n                <Link to='/' className=\"button button--outline button--add go-back-btn\">\r\n                  <svg\r\n                    width=\"8\"\r\n                    height=\"14\"\r\n                    viewBox=\"0 0 8 14\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      d=\"M7 13L1 6.93015L6.86175 1\"\r\n                      stroke=\"#D3D3D3\"\r\n                      strokeWidth=\"1.5\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"/>\r\n                  </svg>\r\n                  <span>Вернуться назад</span>\r\n                </Link>\r\n            </div>\r\n  </div>\r\n)\r\n}\r\n\r\n\r\nexport default FullPizza;"],"names":["typeNames","React","pizza","setPizzas","navigate","useNavigate","id","useParams","activeType","setActiveType","activeSize","setActiveSize","addedCount","useSelector","cart","items","find","obj","addedCartCount","count","dispatch","useDispatch","axios","response","data","alert","console","log","getPizzas","className","src","imageUrl","alt","title","types","map","typeId","index","onClick","sizes","size","price","item","type","String","addItem","width","height","viewBox","fill","xmlns","d","to","stroke","strokeWidth","strokeLinecap","strokeLinejoin"],"sourceRoot":""}